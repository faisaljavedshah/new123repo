<div >
  <div class="recordresponsive">

    <div (clickOutside)="isSearching = false">
      <div *ngIf="checkDomain == 'callrater.com' " style="background-color: #fff; padding: 10px;padding-bottom: 0px">
        <a href="http://legacy.callrater.com" style="color: orange;font-size: 13px; font-weight: bold; ">Looking for legacy CallRater? </a>
      </div>
      <app-bread-crumbs (newItemEvent)="onApplyFilterList($event)"></app-bread-crumbs>
      <div [class.none]="isRecordingDetail">
          <mat-toolbar
        [class.none]="isSearching"
        [ngClass]="isDowloadable ? 'toolbarShadow' : ''"
        class="height_top1"

      >
        <mat-toolbar-row style="height: 72px !important;" class="justify-content-between matToolbar">

          <div  style="display: flex; align-items: center;">
            <svg xmlns="http://www.w3.org/2000/svg" width="44" height="44" viewBox="0 0 44 44" fill="none">
              <rect width="44" height="44" rx="20" fill="#F4FAFF"/>
              <path d="M22 17.25C22.4142 17.25 22.75 17.5858 22.75 18V26C22.75 26.4142 22.4142 26.75 22 26.75C21.5858 26.75 21.25 26.4142 21.25 26V18C21.25 17.5858 21.5858 17.25 22 17.25Z" fill="#718096"/>
              <path d="M19.75 19.333C19.75 18.9188 19.4142 18.583 19 18.583C18.5858 18.583 18.25 18.9188 18.25 19.333V24.666C18.25 25.0802 18.5858 25.416 19 25.416C19.4142 25.416 19.75 25.0802 19.75 24.666V19.333Z" fill="#718096"/>
              <path d="M16.75 21.1108C16.75 20.6966 16.4142 20.3608 16 20.3608C15.5858 20.3608 15.25 20.6966 15.25 21.1108V22.8888C15.25 23.3031 15.5858 23.6388 16 23.6388C16.4142 23.6388 16.75 23.3031 16.75 22.8888V21.1108Z" fill="#718096"/>
              <path d="M25.75 19.333C25.75 18.9188 25.4142 18.583 25 18.583C24.5858 18.583 24.25 18.9188 24.25 19.333V24.666C24.25 25.0802 24.5858 25.416 25 25.416C25.4142 25.416 25.75 25.0802 25.75 24.666V19.333Z" fill="#718096"/>
              <path d="M28 20.3608C28.4142 20.3608 28.75 20.6966 28.75 21.1108V22.8888C28.75 23.3031 28.4142 23.6388 28 23.6388C27.5858 23.6388 27.25 23.3031 27.25 22.8888V21.1108C27.25 20.6966 27.5858 20.3608 28 20.3608Z" fill="#718096"/>
              <path fill-rule="evenodd" clip-rule="evenodd" d="M28.8943 28.8943C32.7019 25.0867 32.7019 18.9133 28.8943 15.1057C25.0867 11.2981 18.9133 11.2981 15.1057 15.1057C11.2981 18.9133 11.2981 25.0867 15.1057 28.8943C18.9133 32.7019 25.0867 32.7019 28.8943 28.8943ZM16.1664 16.1664C19.3882 12.9445 24.6118 12.9445 27.8336 16.1664C31.0551 19.3882 31.0553 24.6119 27.8336 27.8336C24.6118 31.0554 19.3882 31.0554 16.1664 27.8336C12.9445 24.6118 12.9445 19.3882 16.1664 16.1664Z" fill="#718096"/>
              </svg>
            <p class="gau">Recordings</p>
          </div>

        </mat-toolbar-row>
      </mat-toolbar>
      <mat-toolbar
        [class.none]="isSearching"
        [ngClass]="isDowloadable ? 'toolbarShadow' : ''"
        class="height_top"

      >
        <mat-toolbar-row *ngIf="!isDowloadable" style="height: 72px !important;" class="justify-content-between matToolbar">

          <div *ngIf="!isDowloadable" style="display: flex; align-items: center;">

            <p class="gau1">Recordings</p>
          </div>

            <div class="filteruser" [class.border-primary]="filterScreen" (click)="filterScreen=!filterScreen" >
              <div class="userlist"><svg style="margin-left: 7px;margin-right: 7px;" xmlns="http://www.w3.org/2000/svg" width="18" height="19" viewBox="0 0 18 19" fill="none">
                <path fill-rule="evenodd" clip-rule="evenodd" d="M2 0.25C1.03379 0.25 0.25 1.03379 0.25 2V4.586C0.25 5.04834 0.432934 5.49493 0.763301 5.82396L0.764086 5.82474L5.75 10.8107V16.749C5.75 18.0497 6.97222 19.0049 8.23468 18.6897L8.2349 18.6896L10.7349 18.0646C11.6245 17.8422 12.25 17.0424 12.25 16.124V10.8107L17.2373 5.82333C17.566 5.49464 17.75 5.04986 17.75 4.586V2C17.75 1.03379 16.9662 0.25 16 0.25H2ZM10.9648 9.97459C10.8953 10.0453 10.8427 10.1265 10.8069 10.2129C10.7702 10.3013 10.75 10.3983 10.75 10.5V16.124C10.75 16.3536 10.5935 16.5538 10.3711 16.6094L7.87132 17.2343C7.55578 17.3131 7.25 17.0743 7.25 16.749V10.5C7.25 10.3983 7.22976 10.3013 7.19309 10.2129C7.15676 10.1251 7.10304 10.0428 7.03192 9.97126C7.03139 9.97073 7.03086 9.9702 7.03033 9.96967M7.03003 9.96937L1.82333 4.76267L1.82191 4.76126C1.77678 4.71636 1.75 4.6533 1.75 4.586V2C1.75 1.86221 1.86221 1.75 2 1.75H16C16.1378 1.75 16.25 1.86221 16.25 2V4.586C16.25 4.65214 16.224 4.71536 16.1767 4.76267L10.9702 9.96917L10.9697 9.96967" fill="#718096"/>
                </svg> Filter  </div>
            </div>
        </mat-toolbar-row>
        <mat-toolbar-row *ngIf="isDowloadable"style="height: 72px !important;" class="justify-content-between matToolbar">

          <div
            *ngIf="isDowloadable"
            style="padding-left: 15px; font-size: 18px"
            class="flex item-center"
          >
            <div class="selectedNumbers">
              Selected items&nbsp;({{ selectedRowCount }})
            </div>
            <div (clickOutside)="emailDropdown = false;"  [clickOutsideExclude]="exclusions" class="relative">
              <button
              [class.activeBorder]="emailDropdown"
                (click)="shareClicked()"
                class="shareBtn flex item-center btnHover"
              >
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  viewBox="0 0 24 24"
                  style="width: 18px; height: 18px; fill: #707070"
                >
                  <path
                    _ngcontent-ldp-c299=""
                    fill-rule="evenodd"
                    clip-rule="evenodd"
                    d="M18.6885 5.31148C17.9399 4.56284 16.7261 4.56284 15.9775 5.31148C15.4121 5.87686 15.2737 6.70754 15.5623 7.4028C15.5879 7.43741 15.6109 7.47472 15.6309 7.51457C15.651 7.55492 15.6672 7.59622 15.6796 7.63803C15.7603 7.7753 15.8596 7.90468 15.9775 8.02253C16.7261 8.77116 17.9399 8.77116 18.6885 8.02253C19.4372 7.27389 19.4372 6.06011 18.6885 5.31148ZM14.9168 4.25082C14.0402 5.12748 13.7394 6.36198 14.0146 7.48415L9.31151 9.83571C9.24033 9.74894 9.16422 9.66485 9.08319 9.58383C7.74876 8.2494 5.58524 8.2494 4.25082 9.58383C2.91639 10.9182 2.91639 13.0818 4.25082 14.4162C5.58524 15.7506 7.74876 15.7506 9.08319 14.4162C9.16424 14.3351 9.24037 14.251 9.31157 14.1642L14.0146 16.5158C13.7394 17.6379 14.0402 18.8724 14.9168 19.7491C16.2513 21.0835 18.4148 21.0835 19.7492 19.7491C21.0836 18.4147 21.0836 16.2511 19.7492 14.9167C18.4148 13.5823 16.2513 13.5823 14.9168 14.9167C14.8342 14.9993 14.7568 15.0851 14.6844 15.1736L9.98386 12.8233C10.1174 12.2832 10.1174 11.7168 9.98384 11.1766L14.6844 8.82631C14.7568 8.91485 14.8343 9.00061 14.9168 9.08319C16.2513 10.4176 18.4148 10.4176 19.7492 9.08319C21.0836 7.74876 21.0836 5.58524 19.7492 4.25082C18.4148 2.91639 16.2513 2.91639 14.9168 4.25082ZM8.4307 12.7525C8.63514 12.2729 8.6351 11.7269 8.43059 11.2473C8.40783 11.2155 8.38727 11.1815 8.36922 11.1454C8.35147 11.1099 8.3368 11.0737 8.32511 11.037C8.24353 10.8968 8.14267 10.7646 8.02253 10.6445C7.27389 9.89585 6.06011 9.89585 5.31148 10.6445C4.56284 11.3931 4.56284 12.6069 5.31148 13.3555C6.06011 14.1042 7.27389 14.1042 8.02253 13.3555C8.14263 13.2354 8.24347 13.1033 8.32504 12.9631C8.33674 12.9264 8.35144 12.8901 8.36922 12.8545C8.38729 12.8184 8.4079 12.7843 8.4307 12.7525ZM15.5623 16.5971C15.5879 16.5625 15.6109 16.5252 15.6309 16.4854C15.651 16.445 15.6672 16.4037 15.6796 16.3619C15.7604 16.2246 15.8596 16.0952 15.9775 15.9774C16.7261 15.2287 17.9399 15.2287 18.6885 15.9774C19.4372 16.726 19.4372 17.9398 18.6885 18.6884C17.9399 19.4371 16.7261 19.4371 15.9775 18.6884C15.4121 18.123 15.2737 17.2924 15.5623 16.5971Z"
                  ></path>
                </svg>
                <span>Share</span>
              </button>
              <div *ngIf="emailDropdown" class="shareCard">
                <div class="">
                  <div class="tagContainer">
                    <div
                      *ngFor="let item of emailArr; let i = index"
                      class="userTags"
                    >
                      <div>{{ item }}</div>
                      <div style="cursor: pointer">
                        <svg
                          (click)="spliceEmail(i, $event)"
                          xmlns="http://www.w3.org/2000/svg"
                          width="18"
                          height="18"
                          viewBox="0 0 18 18"
                          fill="none"
                          style="margin-left: 10px"
                        >
                          <path
                            fill-rule="evenodd"
                            clip-rule="evenodd"
                            d="M9 1.5C4.8525 1.5 1.5 4.8525 1.5 9C1.5 13.1475 4.8525 16.5 9 16.5C13.1475 16.5 16.5 13.1475 16.5 9C16.5 4.8525 13.1475 1.5 9 1.5ZM12.75 11.6925L11.6925 12.75L9 10.0575L6.3075 12.75L5.25 11.6925L7.9425 9L5.25 6.3075L6.3075 5.25L9 7.9425L11.6925 5.25L12.75 6.3075L10.0575 9L12.75 11.6925Z"
                            fill="#718096"
                          ></path>
                        </svg>
                      </div>
                    </div>
                  </div>
                  <input
                  [class.errorred]="error"
                    class="tagInput"
                    placeholder="Enter the email here"
                    (input)="addEmail($event.target.value)"
                    #emailInput
                    (keydown.,)="onPressCommaEmail();"
                    (keyup.,)=" emailInput.value = '';"
                  />
                  <div *ngIf="error" style="color: red; font-size: 11px;">Only 10 recipients can be added at a time</div>
                  <div class="tagNote">Use commas to enter multiply emails</div>
                  <div class="modalButtons">
                    <button class="shareClear" (click)="emailInput.value = '';onClearMails()">
                      Clear
                    </button>
                    <button
                      class="shareApply"
                      (click)="onApplyEmails(); emailDropdown = false"
                    >
                      Send
                    </button>
                  </div>
                </div>
              </div>
            </div>
            <button
              [class.btnDisabled]="!isTagBtnActive"
              [class.blueBackGround]="activeTagBtn"
              (click)="triggerModal(tagModal)"
              class="tagBtn flex item-center btnHover"
            >
              <svg
                xmlns="http://www.w3.org/2000/svg"
                width="21"
                height="21"
                viewBox="0 0 24 24"
                fill="none"
              >
                <path
                  fill-rule="evenodd"
                  clip-rule="evenodd"
                  d="M6.48965 6.5382L3.41865 10.8382C2.92165 11.5332 2.92165 12.4682 3.41865 13.1632L6.48965 17.4632C6.86465 17.9882 7.47065 18.3002 8.11665 18.3002H18.9996C20.1046 18.3002 20.9996 17.4052 20.9996 16.3002V7.7002C20.9996 6.5952 20.1046 5.7002 18.9996 5.7002H8.11665C7.47065 5.7002 6.86465 6.0122 6.48965 6.5382Z"
                  stroke="#707070"
                  stroke-width="1.5"
                  stroke-linecap="round"
                  stroke-linejoin="round"
                />
                <path
                  d="M10.5728 10.7274C11.2757 11.4303 11.2757 12.57 10.5728 13.273C9.86984 13.9759 8.73015 13.9759 8.02721 13.273C7.32426 12.57 7.32426 11.4303 8.02721 10.7274C8.73015 10.0245 9.86985 10.0245 10.5728 10.7274"
                  stroke="#707070"
                  stroke-width="1.5"
                  stroke-linecap="round"
                  stroke-linejoin="round"
                />
              </svg>
              <span>Add a tag</span>
            </button>
            <button
            (clickOutside)="isDropDownActive = false;"
              class="flex item-center downloadBtn btnHover"
              [ngClass]="isDropDownActive ? 'blueBackGround' : ''"
            >
              <svg
                (click)="isDropDownActive = !isDropDownActive"
                xmlns="http://www.w3.org/2000/svg"
                viewBox="0 0 24 24"
                style="width: 18px; height: 18px; fill: #707070"
              >
                <path
                  _ngcontent-ldp-c299=""
                  fill-rule="evenodd"
                  clip-rule="evenodd"
                  d="M3.75 12C3.75 7.69604 7.04473 4.16256 11.249 3.78364V13.0083L9.53033 11.2896C9.23744 10.9967 8.76256 10.9967 8.46967 11.2896C8.17678 11.5825 8.17678 12.0574 8.46967 12.3503L11.4038 15.2845C11.5409 15.4629 11.7565 15.578 11.999 15.578C12.2373 15.578 12.4497 15.4669 12.587 15.2936L15.5303 12.3503C15.8232 12.0574 15.8232 11.5825 15.5303 11.2896C15.2374 10.9967 14.7626 10.9967 14.4697 11.2896L12.749 13.0103V3C12.749 2.58579 12.4132 2.25 11.999 2.25C6.61473 2.25 2.25 6.61484 2.25 12C2.25 17.3852 6.61479 21.75 12 21.75C17.3852 21.75 21.75 17.3852 21.75 12C21.75 8.17092 19.5376 4.86972 16.3332 3.27459C15.9624 3.09 15.5122 3.24096 15.3276 3.61177C15.143 3.98258 15.294 4.43282 15.6648 4.61741C18.3824 5.97028 20.25 8.76508 20.25 12C20.25 16.5568 16.5568 20.25 12 20.25C7.44321 20.25 3.75 16.5568 3.75 12Z"
                ></path>
              </svg>
              <span (click)="isDropDownActive = !isDropDownActive">Download</span>
              <svg
                (click)="isDropDownActive = !isDropDownActive"
                xmlns="http://www.w3.org/2000/svg"
                width="14"
                height="8"
                viewBox="0 0 14 8"
                fill="none"
              >
                <path
                  d="M13 1L7 7L1 1"
                  stroke="#585556"
                  stroke-width="1.5"
                  stroke-linecap="round"
                  stroke-linejoin="round"
                />
              </svg>
              <div *ngIf="isDropDownActive" class="dropdown">
                <div class="checkboxes flex item-center">
                  <mat-checkbox [checked]="this.audio" id="audio" [disabled]="downloading" (change)="selectDownloads($event, 'audio')"> Audio</mat-checkbox>
                </div>
                <div class="checkboxes flex item-center">
                  <mat-checkbox [checked]="this.summary" [disabled]="downloading" (change)="selectDownloads($event, 'summary')">Summary</mat-checkbox>
                </div>
                <div class="checkboxes flex item-center">
                  <mat-checkbox [checked]="this.transcirp" [disabled]="downloading" (change)="selectDownloads($event, 'Transcript')">Transcript</mat-checkbox>
                </div>

                <button
                  [disabled]="!this.audio && !this.summary && !this.transcirp && !this.csv"
                  (click)="onDownload()"
                  class="dropdownDownloadBtn flex item-center"
                >
                  <svg
                    [class.none]="downloading"
                    xmlns="http://www.w3.org/2000/svg"
                    viewBox="0 0 24 24"
                    style="width: 20px; height: 20px; fill: #fff"
                  >
                    <path
                      fill-rule="evenodd"
                      clip-rule="evenodd"
                      d="M3.75 12C3.75 7.69604 7.04473 4.16256 11.249 3.78364V13.0083L9.53033 11.2896C9.23744 10.9967 8.76256 10.9967 8.46967 11.2896C8.17678 11.5825 8.17678 12.0574 8.46967 12.3503L11.4038 15.2845C11.5409 15.4629 11.7565 15.578 11.999 15.578C12.2373 15.578 12.4497 15.4669 12.587 15.2936L15.5303 12.3503C15.8232 12.0574 15.8232 11.5825 15.5303 11.2896C15.2374 10.9967 14.7626 10.9967 14.4697 11.2896L12.749 13.0103V3C12.749 2.58579 12.4132 2.25 11.999 2.25C6.61473 2.25 2.25 6.61484 2.25 12C2.25 17.3852 6.61479 21.75 12 21.75C17.3852 21.75 21.75 17.3852 21.75 12C21.75 8.17092 19.5376 4.86972 16.3332 3.27459C15.9624 3.09 15.5122 3.24096 15.3276 3.61177C15.143 3.98258 15.294 4.43282 15.6648 4.61741C18.3824 5.97028 20.25 8.76508 20.25 12C20.25 16.5568 16.5568 20.25 12 20.25C7.44321 20.25 3.75 16.5568 3.75 12Z"
                    ></path>
                  </svg>
                  <span [class.none]="downloading">Download</span>
                  <span
                  [class.none]="!downloading"
                    class="spinner-border spinner-border-sm mr-1 loadingSpinner"
                  ></span>
                </button>
              </div>
            </button>
          </div>
          <div>

            <svg
              style="margin-right: 22px; cursor: pointer;"
              class="pointer"
              *ngIf="isDowloadable"
              class=""
              (click)="onCloseSelection();"
              xmlns="http://www.w3.org/2000/svg"
              width="16"
              height="16"
              viewBox="0 0 16 16"
              fill="none"
            >
              <path
                fill-rule="evenodd"
                clip-rule="evenodd"
                d="M1.86334 0.803013C1.57044 0.51012 1.09557 0.51012 0.802678 0.803013C0.509785 1.09591 0.509785 1.57078 0.802678 1.86367L6.93901 8.00001L0.802678 14.1363C0.509785 14.4292 0.509785 14.9041 0.802678 15.197C1.09557 15.4899 1.57044 15.4899 1.86334 15.197L7.99967 9.06067L14.136 15.197C14.4289 15.4899 14.9038 15.4899 15.1967 15.197C15.4896 14.9041 15.4896 14.4292 15.1967 14.1363L9.06033 8.00001L15.1967 1.86367C15.4896 1.57078 15.4896 1.09591 15.1967 0.803013C14.9038 0.51012 14.4289 0.51012 14.136 0.803013L7.99967 6.93935L1.86334 0.803013Z"
                fill="#707070"
              />
            </svg>
          </div>
        </mat-toolbar-row>
      </mat-toolbar>
      <div class="searchContainer" [class.none]="!isSearching">
        <div class="absolute mainDiv">
          <div class="inputContainer">
            <div class="flex" style="width: 100%;">
              <span
              *ngIf="searchingKeyword"
                    class="spinner-border spinner-border-sm mr-1"
                  ></span>
            <svg
            *ngIf="!searchingKeyword"
                xmlns="http://www.w3.org/2000/svg"
                width="18"
                height="18"
                viewBox="0 0 18 18"
                fill="none"
              >
                <path
                  fill-rule="evenodd"
                  clip-rule="evenodd"
                  d="M1.74658 8.05901C1.74658 4.57302 4.57253 1.74707 8.05852 1.74707C11.5445 1.74707 14.3705 4.57302 14.3705 8.05901C14.3705 9.79087 13.673 11.3598 12.5436 12.5003C12.536 12.5072 12.5286 12.5144 12.5213 12.5217C12.514 12.529 12.5069 12.5364 12.4999 12.544C11.3594 13.6734 9.79044 14.371 8.05852 14.371C4.57253 14.371 1.74658 11.545 1.74658 8.05901ZM13.0268 14.0878C11.6765 15.2018 9.94568 15.871 8.05852 15.871C3.74411 15.871 0.246582 12.3734 0.246582 8.05901C0.246582 3.7446 3.74411 0.24707 8.05852 0.24707C12.3729 0.24707 15.8705 3.7446 15.8705 8.05901C15.8705 9.9461 15.2013 11.6769 14.0874 13.0271L17.5336 16.4733C17.8265 16.7662 17.8265 17.2411 17.5336 17.534C17.2407 17.8269 16.7658 17.8269 16.473 17.534L13.0268 14.0878Z"
                  fill="#707070"
                />
              </svg>
              <input
                #seachInput
                class="search"
                type="text"
                (input)="searchingFor === 'recordings' ? searchRecordings($event.target.value):searchUsers($event.target.value); this.focusList = -1;"
                placeholder="Search"
                (keydown)="onUpDown($event)"
                [value]='searchValue'
              />
            </div>
            <div class="flex item-center">
              <span class="clearText pointer" (click)="clearFilterList();">Clear</span>
              <div class="verticalLine"></div>
              <span
                style="
                  height: 80%;
                  background-color: #425466;
                  width: 1px;
                  margin: 0 8px;
                "
              ></span>
              <svg
                (click)="isSearching = !isSearching"
                class="pointer"
                xmlns="http://www.w3.org/2000/svg"
                width="10"
                height="10"
                viewBox="0 0 10 10"
                fill="none"
              >
                <path
                  fill-rule="evenodd"
                  clip-rule="evenodd"
                  d="M1.53033 0.46967C1.23744 0.176777 0.762563 0.176777 0.46967 0.46967C0.176777 0.762563 0.176777 1.23744 0.46967 1.53033L3.93934 5L0.46967 8.46967C0.176777 8.76256 0.176777 9.23744 0.46967 9.53033C0.762563 9.82322 1.23744 9.82322 1.53033 9.53033L5 6.06066L8.46967 9.53033C8.76256 9.82322 9.23744 9.82322 9.53033 9.53033C9.82322 9.23744 9.82322 8.76256 9.53033 8.46967L6.06066 5L9.53033 1.53033C9.82322 1.23744 9.82322 0.762563 9.53033 0.46967C9.23744 0.176777 8.76256 0.176777 8.46967 0.46967L5 3.93934L1.53033 0.46967Z"
                  fill="#585556"
                />
              </svg>
            </div>
          </div>

          <div *ngIf="!isListOpen" class="lookingFor">
            <div class="lookingText">I'm looking for</div>
            <div class="buttons flex">
              <button
                (click)="searchingFor = 'people'"
                [ngClass]="{ activeButton: searchingFor === 'people' }"
                class="flex"
              >
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  width="22"
                  height="19"
                  viewBox="0 0 22 19"
                >
                  <path
                    fill-rule="evenodd"
                    clip-rule="evenodd"
                    d="M8 1.75C6.20507 1.75 4.75 3.20507 4.75 5C4.75 6.79493 6.20507 8.25 8 8.25C9.79493 8.25 11.25 6.79493 11.25 5C11.25 3.20507 9.79493 1.75 8 1.75ZM3.25 5C3.25 2.37665 5.37665 0.25 8 0.25C10.6234 0.25 12.75 2.37665 12.75 5C12.75 7.62335 10.6234 9.75 8 9.75C5.37665 9.75 3.25 7.62335 3.25 5ZM0.25 17C0.25 14.3766 2.37665 12.25 5 12.25H11C13.6234 12.25 15.75 14.3766 15.75 17V18C15.75 18.4142 15.4142 18.75 15 18.75C14.5858 18.75 14.25 18.4142 14.25 18V17C14.25 15.2051 12.7949 13.75 11 13.75H5C3.20507 13.75 1.75 15.2051 1.75 17V18C1.75 18.4142 1.41421 18.75 1 18.75C0.585786 18.75 0.25 18.4142 0.25 18V17ZM13.25 1C13.25 0.585786 13.5858 0.25 14 0.25C16.6234 0.25 18.75 2.37665 18.75 5C18.75 7.62335 16.6234 9.75 14 9.75C13.5858 9.75 13.25 9.41421 13.25 9C13.25 8.58579 13.5858 8.25 14 8.25C15.7949 8.25 17.25 6.79493 17.25 5C17.25 3.20507 15.7949 1.75 14 1.75C13.5858 1.75 13.25 1.41421 13.25 1ZM16.25 13C16.25 12.5858 16.5858 12.25 17 12.25C19.6234 12.25 21.75 14.3766 21.75 17V18C21.75 18.4142 21.4142 18.75 21 18.75C20.5858 18.75 20.25 18.4142 20.25 18V17C20.25 15.2051 18.7949 13.75 17 13.75C16.5858 13.75 16.25 13.4142 16.25 13Z"
                  />
                </svg>
                People
              </button>
              <button
                (click)="searchingFor = 'recordings'"
                [ngClass]="{ activeButton: searchingFor === 'recordings' }"
                class="flex"
              >
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  width="20"
                  height="20"
                  viewBox="0 0 20 20"
                >
                  <path
                    d="M10 5.25C10.4142 5.25 10.75 5.58579 10.75 6V14C10.75 14.4142 10.4142 14.75 10 14.75C9.58579 14.75 9.25 14.4142 9.25 14V6C9.25 5.58579 9.58579 5.25 10 5.25Z"
                  />
                  <path
                    d="M7.75 7.33301C7.75 6.91879 7.41421 6.58301 7 6.58301C6.58579 6.58301 6.25 6.91879 6.25 7.33301V12.666C6.25 13.0802 6.58579 13.416 7 13.416C7.41421 13.416 7.75 13.0802 7.75 12.666V7.33301Z"
                  />
                  <path
                    d="M4.75 9.11084C4.75 8.69663 4.41421 8.36084 4 8.36084C3.58579 8.36084 3.25 8.69663 3.25 9.11084V10.8888C3.25 11.3031 3.58579 11.6388 4 11.6388C4.41421 11.6388 4.75 11.3031 4.75 10.8888V9.11084Z"
                  />
                  <path
                    d="M13.75 7.33301C13.75 6.91879 13.4142 6.58301 13 6.58301C12.5858 6.58301 12.25 6.91879 12.25 7.33301V12.666C12.25 13.0802 12.5858 13.416 13 13.416C13.4142 13.416 13.75 13.0802 13.75 12.666V7.33301Z"
                  />
                  <path
                    d="M16 8.36084C16.4142 8.36084 16.75 8.69663 16.75 9.11084V10.8888C16.75 11.3031 16.4142 11.6388 16 11.6388C15.5858 11.6388 15.25 11.3031 15.25 10.8888V9.11084C15.25 8.69663 15.5858 8.36084 16 8.36084Z"
                  />
                  <path
                    fill-rule="evenodd"
                    clip-rule="evenodd"
                    d="M16.8943 16.8943C20.7019 13.0867 20.7019 6.91332 16.8943 3.10571C13.0867 -0.701905 6.91332 -0.701902 3.10571 3.10571C-0.701905 6.9133 -0.701902 13.0867 3.10571 16.8943C6.9133 20.7019 13.0867 20.7019 16.8943 16.8943ZM4.16637 4.16637C7.3882 0.944543 12.6118 0.944545 15.8336 4.16637C19.0551 7.38823 19.0553 12.6119 15.8336 15.8336C12.6118 19.0554 7.38818 19.0554 4.16637 15.8336C0.944543 12.6118 0.944546 7.38818 4.16637 4.16637Z"
                  /></svg
                >Recordings
              </button>
              <button
                (click)="searchingFor = 'tags'"
                [ngClass]="{ 'activeButton activeStroke': searchingFor === 'tags' }"
                class="flex tagStroke"
              >
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  width="24"
                  height="24"
                  viewBox="0 0 24 24"
                  fill="none"
                  class="tagStroke"
                >
                  <path
                    fill-rule="evenodd"
                    clip-rule="evenodd"
                    d="M6.48989 6.5382L3.41889 10.8382C2.92189 11.5332 2.92189 12.4682 3.41889 13.1632L6.48989 17.4632C6.86489 17.9882 7.47089 18.3002 8.11689 18.3002H18.9999C20.1049 18.3002 20.9999 17.4052 20.9999 16.3002V7.7002C20.9999 6.5952 20.1049 5.7002 18.9999 5.7002H8.11689C7.47089 5.7002 6.86489 6.0122 6.48989 6.5382Z"
                    stroke-width="1.5"
                    stroke-linecap="round"
                    stroke-linejoin="round"
                  />
                  <path
                    d="M10.5728 10.7274C11.2757 11.4303 11.2757 12.57 10.5728 13.273C9.86984 13.9759 8.73015 13.9759 8.02721 13.273C7.32426 12.57 7.32426 11.4303 8.02721 10.7274C8.73015 10.0245 9.86985 10.0245 10.5728 10.7274"
                    stroke-width="1.5"
                    stroke-linecap="round"
                    stroke-linejoin="round"
                  /></svg
                >Tags
              </button>
            </div>
          </div>

          <div *ngIf="false" #listContainer class="listContainer">
            <ng-container *ngIf="searchingFor === 'people'">
              <div class="userList flex pointer" [id]="'people_' + i" [ngClass]="focusList === i ? 'focusOnList':''" *ngFor="let item of searchedArr; let i = index" (click)="agentSelected(item);filterRecordigns(item.name);">
                <div class="userName">{{item.name}}</div>
                <div *ngIf="item.email" class="userMail">{{item.email}}</div>
              </div>
            </ng-container>
            <ng-container *ngIf="searchingFor === 'tags'">
              <div class="userList flex pointer" [id]="'tags_' + i"  [ngClass]="focusList === i ? 'focusOnList':''" *ngFor="let item of tagsArr; let i = index" (click)="seachInput.value = item; filterRecordigns(item)">
                <div class="userName">{{item}}</div>
              </div>
            </ng-container>
            <ng-container *ngIf="searchingFor === 'recordings'">
              <div class="userList flex pointer" [id]="'recordings_' + i" [ngClass]="focusList === i ? 'focusOnList':''" *ngFor="let item of recordingList; let i = index" (click)="seachInput.value = item; filterRecordigns(item)">
                <div class="userName">{{item}}</div>
              </div>
            </ng-container>
          </div>
          <div *ngIf="isListOpen" class="resultFound">
            <div class="resultCount">{{searchingFor === 'people' ? searchedArr.length:''}} {{searchingFor === 'tags' ? tagsArr.length:''}} {{searchingFor === 'recordings' ? recordingList.length:''}} results found for "{{searchValue}}": </div>
            <!-- <div class="resultList">
                <div class="resultItem">
                  <div class="recName"> 522 765-1029 </div>
                  <div class="resName">Anna Black</div>
                </div>
                <div class="resultItem">
                  <div class="recName"> 522 765-1029 </div>
                  <div class="resName">Anna Black</div>
                </div>
                <div class="resultItem">
                  <div class="recName"> 522 765-1029 </div>
                  <div class="resName">Anna Black</div>
                </div>
                <div class="resultItem">
                  <div class="recName"> 522 765-1029 </div>
                  <div class="resName">Anna Black</div>
                </div>
                <div class="resultItem">
                  <div class="recName"> 522 765-1029 </div>
                  <div class="resName">Anna Black</div>
                </div>
                <div class="resultItem">
                  <div class="recName"> 522 765-1029 </div>
                  <div class="resName">Anna Black</div>
                </div>
                <div class="resultItem">
                  <div class="recName"> 522 765-1029 </div>
                  <div class="resName">Anna Black</div>
                </div>
                <div class="resultItem">
                  <div class="recName"> 522 765-1029 </div>
                  <div class="resName">Anna Black</div>
                </div>
                <div class="resultItem">
                  <div class="recName"> 522 765-1029 </div>
                  <div class="resName">Anna Black</div>
                </div>
                <div class="resultItem">
                  <div class="recName"> 522 765-1029 </div>
                  <div class="resName">Anna Black</div>
                </div>
            </div> -->
            <div class="resultList">
            <ng-container *ngIf="searchingFor === 'people'">
              <div class="userList flex pointer" [id]="'people_' + i" [ngClass]="focusList === i ? 'focusOnList':''" *ngFor="let item of searchedArr; let i = index" (click)="agentSelected(item);filterRecordigns(item.name);">
                <div class="userName">{{item.name}}</div>
                <div *ngIf="item.email" class="userMail">{{item.email}}</div>
              </div>
            </ng-container>
            <ng-container *ngIf="searchingFor === 'tags'">
              <div class="userList flex pointer" [id]="'tags_' + i"  [ngClass]="focusList === i ? 'focusOnList':''" *ngFor="let item of tagsArr; let i = index" (click)="seachInput.value = item; filterRecordigns(item)">
                <div class="userName">{{item}}</div>
              </div>
            </ng-container>
            <ng-container *ngIf="searchingFor === 'recordings'">
              <div class="userList flex pointer" [id]="'recordings_' + i" [ngClass]="focusList === i ? 'focusOnList':''" *ngFor="let item of recordingList; let i = index" (click)="seachInput.value = item; filterRecordigns(item)">
                <div class="userName">{{item}}</div>
              </div>
            </ng-container>
          </div>
          </div>
        </div>
      </div>

    <div>
      <app-recordings-table
      #child
        (isAnySelected)="onSelectRow($event)"
        (onRefreshList)="onRefreshList($event)"
        [closeSelection]="closeSelection"
        [searchedList]="renderList"
        [filterScreen] = "filterScreen"
        [parentLoading]="loading"
        [reloadList]="reloadList"
        [onUpdateTags]="onUpdateTags"
        [removeTagResponse]="removeTagResponse"
        [agentList]="agentSuggestList"
        [recordingListArray]="originalArray"
      ></app-recordings-table>
    </div>
  </div>
  </div>
    <ng-container *ngIf="isRecordingDetail">

      <app-recording-list (onTagRemove)="removeTags($event)"></app-recording-list>
    </ng-container>

  </div>

  <!-- Add a tag Modal -->
  <ng-template #tagModal let-modal class="tagModal">
    <div class="modal-body">
      <div class="modalContainer">
        <div class="tagContainer">
          <div *ngFor="let item of addingUserTag; let i = index" class="userTags">
            <div>#{{ item }}</div>
            <div style="cursor: pointer">
              <svg
                (click)="spliceTag(i)"
                xmlns="http://www.w3.org/2000/svg"
                width="18"
                height="18"
                viewBox="0 0 18 18"
                fill="none"
                style="margin-left: 10px"
              >
                <path
                  fill-rule="evenodd"
                  clip-rule="evenodd"
                  d="M9 1.5C4.8525 1.5 1.5 4.8525 1.5 9C1.5 13.1475 4.8525 16.5 9 16.5C13.1475 16.5 16.5 13.1475 16.5 9C16.5 4.8525 13.1475 1.5 9 1.5ZM12.75 11.6925L11.6925 12.75L9 10.0575L6.3075 12.75L5.25 11.6925L7.9425 9L5.25 6.3075L6.3075 5.25L9 7.9425L11.6925 5.25L12.75 6.3075L10.0575 9L12.75 11.6925Z"
                  fill="#718096"
                ></path>
              </svg>
            </div>
          </div>
        </div>
        <input
        id="INP"
          class="tagInput"
          placeholder="Create any Tag"
          (input)="addTag($event.target.value)"
          #tagInput
          [value]="tagText"
          (keydown.enter)="onPressComma(); tagInput.value = '';"
          (keydown.,)="onPressComma();tagInput.value = ''"
          (keyup.,)=" tagInput.value = ''"
        />
        <div class="tagNote">Use commas to enter multiply hashtags</div>
        <div class="modalButtons">
          <button
            (click)="tagInput.value = ''; this.addingUserTag.length = 0; this.tagText = ''"
            class="clearBtn"
          >
            Clear
          </button>
          <button
            class="applyBtn"
            (click)="
              onApply();
              tagInput.value = '';
              modal.close('Save click');
              activeTagBtn = false
            "
          >
            Apply
          </button>
          <!-- (click)="modal.close('Save click')" -->
        </div>
      </div>
    </div>
  </ng-template>
</div>

<!-- Recording Detail Component -->
